@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------------
   BARVNA PALETA / THEME VARIABLES
---------------------------------- */
:root {
  color-scheme: dark;

  /* osnovne */
  --bg: #0d0d0d;
  --bg-soft: rgba(17, 17, 17, 0.8);
  --text: #ffffff;
  --text-dim: rgba(255,255,255,.68);

  /* obrobe / plastenje */
  --ring: rgba(255,255,255,.12);
  --divider: #232323;

  /* brand (ujema se z bg-brand v Tailwind configu, če ga imaš) */
  --brand: #ff9966;
  --brand-hover: #ff8a4d;

  /* poudarki */
  --ok: #34d399;      /* emerald-400 */
  --warn: #f59e0b;    /* amber-500 */
  --err: #ef4444;     /* red-500 */

  /* sence/blur */
  --card-bg: rgba(255,255,255,.05);
  --card-bg-hover: rgba(255,255,255,.08);
  --popover: rgba(13,13,13,.85);
}

html, body { height: 100%; }

body {
  background-color: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------------------------------
   TIP OGRODJE / OSNOVNI HELPERJI
---------------------------------- */

/* Skok na vsebino (SkipLink) */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* Subtilen “press” občutek na gumbe */
.btn-press:active { transform: translateY(1px) scale(0.98); }

/* Fokus obroča – bolj viden, a ne kričeč */
:where(button, a, [tabindex]:not([tabindex="-1"])):focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--ring);
  border-radius: 14px;
}

/* Dividerji (če jih rabiš v plain CSS) */
.hr-soft { border-top: 1px solid var(--divider); }

/* ---------------------------------
   ANIMACIJE / GIBANJE
---------------------------------- */

.fade-in { animation: fadeIn .6s ease-in-out both; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Popover/flyout vstop (če ne uporabljaš framerja) */
.popover-enter {
  animation: popIn .18s ease-out both;
}
@keyframes popIn {
  from { opacity: 0; transform: translateY(8px) scale(.98); }
  to   { opacity: 1; transform: translateY(0)   scale(1); }
}

/* ---------------------------------
   LINE CLAMP HELPERJI
---------------------------------- */
.line-clamp-2, .line-clamp-3, .line-clamp-4 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.line-clamp-2 { -webkit-line-clamp: 2; }
.line-clamp-3 { -webkit-line-clamp: 3; }
.line-clamp-4 { -webkit-line-clamp: 4; }

@media (min-width: 640px) {
  .sm\:line-clamp-2 { display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; }
  .sm\:line-clamp-3 { display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:3; overflow:hidden; }
  .sm\:line-clamp-4 { display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:4; overflow:hidden; }
}

/* ---------------------------------
   PERFORMANCE HELPERJI
---------------------------------- */
/* Kartice ne renderiraj dokler niso blizu viewporta */
.cv-auto {
  content-visibility: auto;
  contain-intrinsic-size: 256px 320px; /* približna višina/širina kartice */
}

/* Skrij horizontalni scrollbar, kjer je “swipe” UX */
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

/* ---------------------------------
   REDUCED MOTION (dostopnost)
---------------------------------- */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: .001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .001ms !important;
    scroll-behavior: auto !important;
  }
}

/* ---------------------------------
   LAHKA TEMA (opcijsko)
   Dodaj na <html> ali <body> razred .theme-light
---------------------------------- */
.theme-light {
  --bg: #fafafa;
  --bg-soft: rgba(255,255,255,.85);
  --text: #0f172a;
  --text-dim: rgba(15,23,42,.7);
  --ring: rgba(15,23,42,.25);
  --divider: #e5e7eb;

  --brand: #ff7a45;
  --brand-hover: #ff6a2c;

  --card-bg: rgba(0,0,0,.03);
  --card-bg-hover: rgba(0,0,0,.06);
  --popover: rgba(255,255,255,.96);
}

/* ---------------------------------
   DROBNE VIZUALNE NADGRADNJE
---------------------------------- */
/* Uporabi te razrede po želji v komponentah */
.surface {
  background: var(--card-bg);
  border-radius: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,.18);
  backdrop-filter: saturate(120%) blur(6px);
}
.surface:hover { background: var(--card-bg-hover); }

.popover-panel {
  background: var(--popover);
  border-radius: 16px;
  box-shadow: 0 18px 40px rgba(0,0,0,.35);
  backdrop-filter: blur(8px) saturate(120%);
  border: 1px solid var(--ring);
}
